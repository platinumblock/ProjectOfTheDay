class Hotel{
    constructor(name,price,rating,image){
        this.name=name;
        this.price=price;
        this.rating=rating;
        this.image=image;
    }
}

var florence=[];
florence.push(new Hotel("The Social Hub",260,9,"https://imgcy.trivago.com/c_lfill,d_dummy.jpeg,e_sharpen:60,f_auto,h_225,q_auto,w_225/hotelier-images/41/69/55ad6cd726b975c30230f747cdbd42719022f9892c65c549bd0c990f2e53.jpeg"));
florence.push(new Hotel("Arizona Hotel",149,8.2,"https://imgcy.trivago.com/c_lfill,d_dummy.jpeg,e_sharpen:60,f_auto,h_225,q_auto,w_225/hotelier-images/26/a0/98c8f2402a08135abab69e2c389a0845113e3f7ef5d4ee3cfa88e6c102bc.jpeg"));
florence.push(new Hotel("Machiavelli Palace",210,7.9,"https://imgcy.trivago.com/c_lfill,d_dummy.jpeg,e_sharpen:60,f_auto,h_225,q_auto,w_225/hotelier-images/1e/56/e6d262067dd0c11f1c0b33e3631d7943705f54255e5a53d395e8e08e62f2.jpeg"));
florence.push(new Hotel("La Gemma",616,9.8,"https://imgcy.trivago.com/c_lfill,d_dummy.jpeg,e_sharpen:60,f_auto,h_225,q_auto,w_225/hotelier-images/1c/fd/3142719fe0f7e70c1ef23bc4a3b20b8ccf1f1d32a0768936315206f1ef82.jpeg"));
florence.push(new Hotel("Hotel Perseo",296,9.2,"https://imgcy.trivago.com/c_lfill,d_dummy.jpeg,e_sharpen:60,f_auto,h_225,q_auto,w_225/hotelier-images/91/f9/5488d5c17828412361d487abec3b386474c37e19f09bded35ecaa4a2138b.jpeg"));
florence.push(new Hotel("Hilton Florence",176,8.2,"https://imgcy.trivago.com/c_lfill,d_dummy.jpeg,e_sharpen:60,f_auto,h_225,q_auto,w_225/hotelier-images/91/46/a749ef98003a4f0edfd2d712bf92a0ac74ec675ac1b4f62870c33b0eb3c8.jpeg"));
florence.push(new Hotel("Atlantic Palace",250,8,"https://imgcy.trivago.com/c_lfill,d_dummy.jpeg,e_sharpen:60,f_auto,h_225,q_auto,w_225/hotelier-images/5a/05/5ef49bc0e63d5bae34956b05c24902783b98f48722c295ae10178fd73ae2.jpeg"));
var mountainview=[];
mountainview.push(new Hotel("Hampton Inn",185,8.8,"https://imgcy.trivago.com/c_lfill,d_dummy.jpeg,e_sharpen:60,f_auto,h_225,q_auto,w_225/hotelier-images/c8/a7/cdd661b3d544421f89b1845be27f94671500da1126892f6b7250656286ec.jpeg"));
mountainview.push(new Hotel("Holiday Inn",313,8.9,"https://imgcy.trivago.com/c_lfill,d_dummy.jpeg,e_sharpen:60,f_auto,h_225,q_auto,w_225/hotelier-images/1b/e0/ea456c70b3c5bd081168e264a270946e2081243b63e82df40e48f6c968a5.jpeg"));
mountainview.push(new Hotel("Hyatt Centric",499,9.2,"https://imgcy.trivago.com/c_lfill,d_dummy.jpeg,e_sharpen:60,f_auto,h_225,q_auto,w_225/hotelier-images/d3/9d/1a6e253d08788895326a1d3a8f2ae94ec2ba7dbd75c1bb6a38a495d6047f.jpeg"));
var amherst=[];
amherst.push(new Hotel("Boltwood Inn",277,9.4,"https://imgcy.trivago.com/c_lfill,d_dummy.jpeg,e_sharpen:60,f_auto,h_225,q_auto,w_225/hotelier-images/b4/a4/6733a5cdfa667a124f5966245618a9a1a043b621e8b7689cdb0798aa67bd.jpeg"));
amherst.push(new Hotel("Johnson Express Inn",110,7.4,"https://imgcy.trivago.com/c_lfill,d_dummy.jpeg,e_sharpen:60,f_auto,h_225,q_auto,w_225/hotelier-images/8e/31/51ccdfe284f1ce51e73ffb950a217f725934c6b31a102ef8e14763204145.jpeg"));
var paris=[];
paris.push(new Hotel("Pullman Paris",593,8.5,"https://imgcy.trivago.com/c_lfill,d_dummy.jpeg,e_sharpen:60,f_auto,h_225,q_auto,w_225/partner-images/5d/1c/6cefa4718e4f54f77a62a518e268b14f27a9d19a3b6724eb7ebe3fa889fe.jpeg"));
paris.push(new Hotel("Novotel Paris",227,8.2,"https://imgcy.trivago.com/c_lfill,d_dummy.jpeg,e_sharpen:60,f_auto,h_225,q_auto,w_225/hotelier-images/60/dd/8950103a483703a64ba6c26b4a5f4a8b9fc73c7cd67d65924939e59a53e4.jpeg"));
paris.push(new Hotel("Grand Hommes",359,9.4,"https://imgcy.trivago.com/c_lfill,d_dummy.jpeg,e_sharpen:60,f_auto,h_225,q_auto,w_225/hotelier-images/3d/46/a2c0f61377aab169182996d336cc4d6680e537419afad472db778e9c2b83.jpeg"));
paris.push(new Hotel("Hotel Apostrophe",225,9,"https://imgcy.trivago.com/c_lfill,d_dummy.jpeg,e_sharpen:60,f_auto,h_225,q_auto,w_225/hotelier-images/24/87/9f9d63cf201a756ca2062e58fff35aa01ec4db42bea7abc156b8f1d40d0f.jpeg"));
paris.push(new Hotel("Hotel Barriere",1230,9.2,"https://imgcy.trivago.com/c_lfill,d_dummy.jpeg,e_sharpen:60,f_auto,h_225,q_auto,w_225/hotelier-images/60/90/80350bd1071550865df305fb9667eb30ad8d80b2537072510b603c16e017.jpeg"));
var tokyo=[];
tokyo.push(new Hotel("InterContinental",273,9,"https://imgcy.trivago.com/c_lfill,d_dummy.jpeg,e_sharpen:60,f_auto,h_225,q_auto,w_225/hotelier-images/ee/b7/c817d5e5e9e642c3c7dc6b0e8561a805e8accb0bfe6ec5e54ff7f1f9fbfd.jpeg"));
tokyo.push(new Hotel("Chinzanso Tokyo",354,9.6,"https://imgcy.trivago.com/c_lfill,d_dummy.jpeg,e_sharpen:60,f_auto,h_225,q_auto,w_225/partner-images/ab/9a/2c6b8d6efcf2a83aa70854dce0ed049d3adfb2566a613e51ff336586a67f.jpeg"));
tokyo.push(new Hotel("Shinagawa Prince",156,8.5,"https://imgcy.trivago.com/c_lfill,d_dummy.jpeg,e_sharpen:60,f_auto,h_225,q_auto,w_225/partner-images-stage/b9/d2/e88bb6f6c4e162d9094307bab73c32dd7878bbb2db61f8356c72dc4788e0.jpeg"));
tokyo.push(new Hotel("Keio Plaza",336,9.1,"https://imgcy.trivago.com/c_lfill,d_dummy.jpeg,e_sharpen:60,f_auto,h_225,q_auto,w_225/hotelier-images/b2/99/c2735a88739f99360969ad3f9958ac89fcdb07ba4d822d96d93c13391c5a.jpeg"));

var map=new Map();
map.set("florence",florence);
map.set("mountain view",mountainview);
map.set("amherst",amherst);
map.set("paris",paris);
map.set("tokyo",tokyo);

function displayResults(city){
    for(var i=0;i<city.length;i++){
        var result=document.createElement("div");
        result.classList.add("result");
        result.style.top=(35+i*25)+"%";
        var name=document.createElement("div");
        name.classList.add("name");
        name.innerHTML=city[i].name;
        var price=document.createElement("div");
        price.classList.add("price");
        price.innerHTML="$"+city[i].price;
        var rating=document.createElement("div");
        rating.classList.add("rating");
        rating.innerHTML=city[i].rating+"/10";
        if(city[i].rating>=9){
            rating.style.textShadow="0px 0px 1px orange, 0px 0px 4px orange";
        }
        var image=document.createElement("img");
        image.classList.add("image");
        image.src=city[i].image;
        result.appendChild(name);
        result.appendChild(price);
        result.appendChild(rating);
        result.appendChild(image);
        document.body.appendChild(result);
    }
}
function sortPrice(){
    var list=map.get(localStorage.getItem("city").toLowerCase());
    for(var i=0;i<list.length;i++){
        for(var k=0;k<list.length-1;k++){
            if(list[k].price>list[k+1].price){
                var temp=list[k];
                list[k]=list[k+1];
                list[k+1]=temp;
            }
        }
    }
    var old=document.getElementsByClassName("result");
    var l=old.length;
    for(var i=0;i<l;i++){
        old[0].remove();
    }
    displayResults(list);
    document.getElementById("sortPrice").style.color="orange";
    document.getElementById("sortRating").style.color="black";
}
function sortRating(){
    var list=map.get(localStorage.getItem("city").toLowerCase());
    for(var i=0;i<list.length;i++){
        for(var k=0;k<list.length-1;k++){
            if(list[k].rating<list[k+1].rating){
                var temp=list[k];
                list[k]=list[k+1];
                list[k+1]=temp;
            }
        }
    }
    var old=document.getElementsByClassName("result");
    var l=old.length;
    for(var i=0;i<l;i++){
        old[0].remove();
    }
    displayResults(list);
    document.getElementById("sortRating").style.color="orange";
    document.getElementById("sortPrice").style.color="black";
}

var city=localStorage.getItem("city").toLowerCase();
sortPrice();
displayResults(map.get(city));
document.getElementById("search2").value=city;

function handle(e){
    if(e.keyCode === 13){
        localStorage.setItem("city",document.getElementById("search2").value);
        window.location.href="search.html";
        
    }
}